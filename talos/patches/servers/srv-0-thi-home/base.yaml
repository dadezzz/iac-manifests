machine:
  install:
    disk: /dev/sdb
    image: factory.talos.dev/metal-installer/012427dcde4d2c4eff11f55adf2f20679292fcdffb76b5700dd022c813908b07:v1.11.0
  kubelet:
    extraMounts:
      - destination: /var/mnt/longhorn-0
        options:
          - bind
          - rshared
          - rw
        source: /var/mnt/longhorn-0
        type: bind
  network:
    hostname: srv-0-thi-home.servers.zarantonello.dev
    interfaces:
      - dhcp: true
        interface: enp2s0
      - addresses:
          - 10.95.0.3/24
          - fda9:b00c:8b29:33f9::1095:3/120
        interface: wg0
        mtu: 1400
        wireguard:
          listenPort: 51000
          peers:
            # srv-0-cor-home
            - allowedIPs:
                - 10.95.0.2/32
                - fda9:b00c:8b29:33f9::1095:2/128
              endpoint: srv-0-cor-home.servers.zarantonello.dev:51000
              publicKey: dNUWq6FfG7+3AGl5olQOpVel6Ntl4brufEQOlN9VPEM=
            # srv-0-fsk-hetz
            - allowedIPs:
                - 10.95.0.1/32
                - fda9:b00c:8b29:33f9::1095:1/128
              endpoint: srv-0-fsk-hetz.servers.zarantonello.dev:51000
              publicKey: BgTeLVv2UKMD86N0XyQoTjh9sKSo/SkMfYKr1VQ3VRc=
          privateKey: ENC[AES256_GCM,data:MwwRAEtijBhZo2vheQvPf0/wSrpTf6Bp717AYMXdW2fLC3qgL8hu8ecEpd0=,iv:ckrhaWo5KcYVtkUWNJaJE5cFsjB7S27xW53fmF3Ziy0=,tag:ivRDhj40uruUIv5ztP2Exg==,type:str]
  nodeAnnotations:
    # yamllint disable-line rule:quoted-strings
    node.longhorn.io/default-disks-config: '[{ "path": "/var/mnt/longhorn-0", "allowScheduling":true }]'
  nodeLabels:
    node.longhorn.io/create-default-disk: config
sops:
  age:
    - enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBMTGdnandzMFcvcUtUZ2lh
        Smo0Ty8wWm9MbzMyVHpUSUtyUzV5V2l0TkhFCjRrODh6UnRaazV1cVdFK3N3bFVw
        NTVSNlBMU085clorMkx4YzlHMGhXdncKLS0tIDlrZFN4b3hoVlN4Ny9wdmhIRExL
        VzNRVEhFclB5RGdxakIzMnlmSUljdWsKlDD1RiHS52TFv9I+B1/a8sfpnQ6tDYEj
        ylnLJO+zhoRFpEmJXHI19LDNZjJluNwnCtLu83bbT0vo6JrfUVQIHg==
        -----END AGE ENCRYPTED FILE-----
      recipient: age10s8xudjc20ujqjsk0asex5vgxqtm3fzrx2g3lzt5lls4rsay6cpqx6rhcc
  encrypted_regex: privateKey
  lastmodified: "2025-09-05T09:31:01Z"
  mac: ENC[AES256_GCM,data:617gBmOAE1m23LR6jeyuUi3xwyDV8YkWLwp1LQVlwfj2M/n+Sj6G7Z23J/587LFY6hpzf5OemyA3g10vQmSnjzjnveuNoT52r3vIfrmwknyMjOX//0Z/mFLYr+uSuTslwdqoalK1xwNPTPdR/c3dH85ELBLiqQyIwBE6F73w1Ng=,iv:HcxMEVNC273570hpWN7oY8deLs3FIWBtyJFt4asdLDQ=,tag:rTqGxuFPieCG6GYDHPzBFQ==,type:str]
  version: 3.10.2
